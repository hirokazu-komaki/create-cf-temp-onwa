{
  "schema": "http://json-schema.org/draft-07/schema#",
  "title": "Project Configuration Schema",
  "description": "Schema for project configuration JSON files",
  "type": "object",
  "required": ["projectConfig"],
  "properties": {
    "projectConfig": {
      "type": "object",
      "required": ["projectName", "environment", "region"],
      "properties": {
        "projectName": {
          "type": "string",
          "pattern": "^[a-zA-Z][a-zA-Z0-9-]*$",
          "minLength": 3,
          "maxLength": 50,
          "description": "Project name (alphanumeric and hyphens only)"
        },
        "environment": {
          "type": "string",
          "enum": ["dev", "staging", "prod"],
          "description": "Deployment environment"
        },
        "region": {
          "type": "string",
          "pattern": "^[a-z]{2}-[a-z]+-[0-9]$",
          "description": "AWS region (e.g., us-east-1)"
        },
        "availabilityZones": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1,
          "maxItems": 6,
          "description": "List of availability zones"
        },
        "tags": {
          "type": "object",
          "patternProperties": {
            "^[a-zA-Z][a-zA-Z0-9:_.-]*$": {
              "type": "string"
            }
          },
          "description": "Resource tags"
        }
      }
    },
    "serviceConfigs": {
      "type": "object",
      "description": "Service-specific configurations",
      "properties": {
        "vpc": {
          "type": "object",
          "properties": {
            "pattern": {
              "type": "string",
              "enum": ["basic", "advanced", "enterprise"],
              "description": "VPC configuration pattern"
            },
            "cidrBlock": {
              "type": "string",
              "pattern": "^([0-9]{1,3}\\.){3}[0-9]{1,3}/[0-9]{1,2}$",
              "description": "VPC CIDR block"
            },
            "enableDnsHostnames": {
              "type": "boolean",
              "description": "Enable DNS hostnames"
            },
            "enableDnsSupport": {
              "type": "boolean",
              "description": "Enable DNS support"
            }
          }
        },
        "ec2": {
          "type": "object",
          "properties": {
            "pattern": {
              "type": "string",
              "enum": ["basic", "advanced", "enterprise"],
              "description": "EC2 configuration pattern"
            },
            "instanceType": {
              "type": "string",
              "description": "EC2 instance type"
            },
            "amiId": {
              "type": "string",
              "description": "AMI ID"
            },
            "keyPairName": {
              "type": "string",
              "description": "EC2 Key Pair name"
            }
          }
        }
      }
    }
  }
},

    "integrationOptions": {
      "type": "object",
      "description": "Integration and cross-stack options",
      "properties": {
        "crossStackReferences": {
          "type": "boolean",
          "default": true,
          "description": "Enable cross-stack references"
        },
        "sharedResources": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "List of shared resource names"
        },
        "monitoringIntegration": {
          "type": "boolean",
          "default": true,
          "description": "Enable monitoring integration"
        }
      }
    }
  }
}